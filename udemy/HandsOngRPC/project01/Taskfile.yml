version: '3'

tasks:
  build:
    dir: './proto/basic'
    cmds:
      - mkdir -p ./protogen
      - protoc --go_out=./protogen --go_opt=paths=source_relative ./*.proto
      - go mod tidy
  run:
    dir: '.'
    deps: [build]
    cmds:
      - go run main.go
  execute:
    dir: '.'
    cmds:
      - go run main.go
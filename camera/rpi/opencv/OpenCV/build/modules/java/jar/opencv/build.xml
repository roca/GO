<!-- This is an Apache Ant build file. As part of the desktop java build -->
<!-- process, this config is used to package the autogenerated .java -->
<!-- interface files into OpenCV.jar -->
<project name="OpenCV">

    <tstamp>
      <format property="timestamp" pattern="EEE MMM d yyyy HH:mm:ss z"/>
    </tstamp>

  <target name="jar">
    <!-- This is to make a jar with a source attachment, for e.g. easy -->
    <!-- navigation in Eclipse. See this question: -->
    <!-- http://stackoverflow.com/questions/3584968/ant-how-to-compile-jar-that-includes-source-attachment -->
    <javac sourcepath="" srcdir="java" destdir="build/classes" debug="on" includeantruntime="false" >
      <include name="**/*.java"/>
      <compilerarg line="-encoding utf-8"/>
    </javac>
    <jar destfile="/go/src/github.com/GOCODE/camera/rpi/opencv/OpenCV/build/bin/opencv-341.jar">
      <fileset dir="java"/>
      <fileset dir="build/classes"/>
      <manifest>
        <attribute name="Specification-Title" value="OpenCV"/>
        <attribute name="Specification-Version" value="3.4.1"/>
        <attribute name="Implementation-Title" value="OpenCV"/>
        <attribute name="Implementation-Version" value="b7e45d1-dirty"/>
        <attribute name="Implementation-Date" value="${timestamp}"/>
      </manifest>
    </jar>
  </target>

  <target name="javadoc">
    <javadoc
      packagenames="org.opencv.*"
      sourcepath="java"
      destdir="/go/src/github.com/GOCODE/camera/rpi/opencv/OpenCV/build/doc/doxygen/html/javadoc"
      Windowtitle="OpenCV 3.4.1 Java documentation"
      Doctitle="OpenCV Java documentation (3.4.1)"
      bottom="Generated on ${timestamp} / OpenCV b7e45d1-dirty"
      />
  </target>

</project>
